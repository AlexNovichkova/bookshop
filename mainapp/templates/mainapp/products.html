{% extends 'mainapp/base.html' %}
{% load static %}

{% block css %}
        <link rel="stylesheet" href="/static/css/products.css" media="screen">
        <link rel="stylesheet" href="/static/css/page.css" media="screen">
{% endblock %}

{% block content %}
<div class="products">
  <section class="u-clearfix u-section-1" id="sec-8bb4">
      <div class="u-clearfix u-sheet u-sheet-1">
        <div class="custom-expanded data-layout-selected u-clearfix u-layout-wrap u-layout-wrap-1">
          <div class="u-layout">
            <div class="u-layout-row">
              <div class="u-container-style u-layout-cell u-size-17-lg u-size-17-md u-size-17-sm u-size-17-xs u-size-19-xl u-layout-cell-1">
                <div class="u-container-layout u-valign-top-lg u-valign-top-xl u-container-layout-1">
                  <h1 class="u-custom-font u-font-playfair-display u-text u-text-1">BookWorld</h1>
                  <div class="list-group">
                    {% for category in categories %}
                      <a href="{% url 'mainapp:category' category.id %}" class="list-group-item">{{category.name}}</a>
                    {% endfor %}
                  </div>
                </div>
              </div>
              <div class="u-container-style u-layout-cell u-size-41-xl u-size-43-lg u-size-43-md u-size-43-sm u-size-43-xs u-layout-cell-2">
                <div class="u-container-layout u-valign-middle-lg u-container-layout-2">
                  <div class="u-carousel u-expanded-width u-gallery u-layout-carousel u-lightbox u-no-transition u-show-text-none u-gallery-1" data-interval="5000" data-u-ride="carousel" id="carousel-3fc0">
                    <ol class="u-absolute-hcenter u-carousel-indicators u-carousel-indicators-1">
                      <li data-u-target="#carousel-3fc0" data-u-slide-to="0" class="u-active u-grey-70 u-shape-circle" style="width: 10px; height: 10px;"></li>
                      <li data-u-target="#carousel-3fc0" data-u-slide-to="1" class="u-grey-70 u-shape-circle" style="width: 10px; height: 10px;"></li>
                    </ol>
                    <div class="u-carousel-inner u-gallery-inner" role="listbox">
                      <div class="u-active u-carousel-item u-gallery-item u-carousel-item-1">
                        <div class="u-back-slide">
                          <img class="u-back-image u-expanded" src="/static/vendor/img/products/default-image.jpg">
                        </div>
                        <div class="u-over-slide u-over-slide-1"></div>
                      </div>
                      <div class="u-carousel-item u-gallery-item u-carousel-item-2">
                        <div class="u-back-slide">
                          <img class="u-back-image u-expanded" src="/static/vendor/img/products/default-image.jpg">
                        </div>
                        <div class="u-over-slide u-over-slide-2"></div>
                      </div>
                    </div>
                    <a class="u-absolute-vcenter u-carousel-control u-carousel-control-prev u-grey-70 u-icon-circle u-opacity u-opacity-70 u-spacing-10 u-text-white u-carousel-control-1" href="#carousel-3fc0" role="button" data-u-slide="prev">
                      <span aria-hidden="true">
                        <svg viewBox="0 0 451.847 451.847"><path d="M97.141,225.92c0-8.095,3.091-16.192,9.259-22.366L300.689,9.27c12.359-12.359,32.397-12.359,44.751,0
c12.354,12.354,12.354,32.388,0,44.748L173.525,225.92l171.903,171.909c12.354,12.354,12.354,32.391,0,44.744
c-12.354,12.365-32.386,12.365-44.745,0l-194.29-194.281C100.226,242.115,97.141,234.018,97.141,225.92z"></path></svg>
                      </span>
                      <span class="sr-only">
                        <svg viewBox="0 0 451.847 451.847"><path d="M97.141,225.92c0-8.095,3.091-16.192,9.259-22.366L300.689,9.27c12.359-12.359,32.397-12.359,44.751,0
c12.354,12.354,12.354,32.388,0,44.748L173.525,225.92l171.903,171.909c12.354,12.354,12.354,32.391,0,44.744
c-12.354,12.365-32.386,12.365-44.745,0l-194.29-194.281C100.226,242.115,97.141,234.018,97.141,225.92z"></path></svg>
                      </span>
                    </a>
                    <a class="u-absolute-vcenter u-carousel-control u-carousel-control-next u-grey-70 u-icon-circle u-opacity u-opacity-70 u-spacing-10 u-text-white u-carousel-control-2" href="#carousel-3fc0" role="button" data-u-slide="next">
                      <span aria-hidden="true">
                        <svg viewBox="0 0 451.846 451.847"><path d="M345.441,248.292L151.154,442.573c-12.359,12.365-32.397,12.365-44.75,0c-12.354-12.354-12.354-32.391,0-44.744
L278.318,225.92L106.409,54.017c-12.354-12.359-12.354-32.394,0-44.748c12.354-12.359,32.391-12.359,44.75,0l194.287,194.284
c6.177,6.18,9.262,14.271,9.262,22.366C354.708,234.018,351.617,242.115,345.441,248.292z"></path></svg>
                      </span>
                      <span class="sr-only">
                        <svg viewBox="0 0 451.846 451.847"><path d="M345.441,248.292L151.154,442.573c-12.359,12.365-32.397,12.365-44.75,0c-12.354-12.354-12.354-32.391,0-44.744
L278.318,225.92L106.409,54.017c-12.354-12.359-12.354-32.394,0-44.748c12.354-12.359,32.391-12.359,44.75,0l194.287,194.284
c6.177,6.18,9.262,14.271,9.262,22.366C354.708,234.018,351.617,242.115,345.441,248.292z"></path></svg>
                      </span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </section>
    <section class="u-clearfix u-section-2" id="sec-f677">
          <div class="u-clearfix u-sheet u-valign-top-lg u-valign-top-md u-sheet-1">
            <div class="u-expanded-width-lg u-expanded-width-md u-expanded-width-sm u-expanded-width-xs u-list u-list-1">
              <div class="u-repeater u-repeater-1">
                  {% for product in products %}
                    <div class="u-container-style u-list-item u-repeater-item u-list-item-1 product_list_item">
                      <div class="u-container-layout u-similar-container u-container-layout-1">
                        <img alt="" class="u-expanded-width-xl u-image u-image-default u-image-1" data-image-width="2000" data-image-height="1333" src={{product.image}} data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction="">
                        <h3 class="u-text u-text-default-lg u-text-default-md u-text-default-sm u-text-default-xl u-text-1">
                          <a href="{% url 'products:detail' product.id %}">{{product.name}} </a>
                        </h3>
                        <p class="u-text u-text-2">{{product.author.name}}</p>
                        <a class="u-active-none u-border-hover-palette-2-base u-border-none u-button-style u-hover-none u-none u-text-body-color u-btn-1"> {{product.price}} Руб</a>
                        <div class="busket_liked_container">
                          {% if not user.is_authenticated %}
                            <a name="{{product.id}}" href="{% url 'users:login'%}" class="u-align-center-xl u-border-none u-btn u-btn-round u-button-style u-hover-palette-2-dark-2 u-palette-2-dark-1 u-radius-50 u-btn-2"> ДОБАВИТЬ В КОРЗИНУ</a>
                          {% else %}
                            {% if product.id in product_in_basket %}
                              <a name="{{product.id}}" value="{{user.is_authenticated}}" id="remove" class="u-align-center-xl u-border-none u-btn u-btn-round u-button-style u-hover-palette-2-dark-2 u-palette-2-dark-1 u-radius-50 u-btn-2"> УДАЛИТЬ ИЗ КОРЗИНЫ</a>
                            {% else %}
                              <a name="{{product.id}}" value="{{user.is_authenticated}}" id="add" class="u-align-center-xl u-border-none u-btn u-btn-round u-button-style u-hover-palette-2-dark-2 u-palette-2-dark-1 u-radius-50 u-btn-2"> ДОБАВИТЬ В КОРЗИНУ</a>
                            {% endif %}
                          {% endif %}
                          <button class="button_liked_product" type="button">
                            <svg width="25" height="20" viewBox="0 -1 22 20" fill="none">
                              {% if not user.is_authenticated %}
                                <path id="{{product.id}}" onclick="location.href='{% url 'users:login'%}'" stroke="#c70000"  d="M16.749 0C13.875 0 12.676 2.75 11 2.75C9.324 2.75 8.12498 0 5.25098 0C2.52898 0 0 2.29099 0 5.38199C0 11.114 9.794 14.861 11 18C12.206 14.86 22 11.114 22 5.38199C22 2.29099 19.471 0 16.749 0Z" fill="#fff" data-spm-anchor-id="a2g2w.detail.0.i3.263872f6fDcHOp">
                                </path>
                              {% else %}
                                {% if product.id in product_liked %}
                                  <path id="{{product.id}}" type="like" stroke="#c70000" d="M16.749 0C13.875 0 12.676 2.75 11 2.75C9.324 2.75 8.12498 0 5.25098 0C2.52898 0 0 2.29099 0 5.38199C0 11.114 9.794 14.861 11 18C12.206 14.86 22 11.114 22 5.38199C22 2.29099 19.471 0 16.749 0Z" fill="#c70000" data-spm-anchor-id="a2g2w.detail.0.i3.263872f6fDcHOp">
                                  </path>
                                {% else %}
                                  <path id="{{product.id}}" type="like" stroke="#c70000" d="M16.749 0C13.875 0 12.676 2.75 11 2.75C9.324 2.75 8.12498 0 5.25098 0C2.52898 0 0 2.29099 0 5.38199C0 11.114 9.794 14.861 11 18C12.206 14.86 22 11.114 22 5.38199C22 2.29099 19.471 0 16.749 0Z" fill="#fff" data-spm-anchor-id="a2g2w.detail.0.i3.263872f6fDcHOp">
                                  </path>
                                {% endif %}
                              {% endif %}
                            </svg>
<!--                            <svg width="25" height="20" viewBox="0 -1 22 20" fill="none">-->
<!--                              <path d="M16.749 0C13.875 0 12.676 2.75 11 2.75C9.324 2.75 8.12498 0 5.25098 0C2.52898 0 0 2.29099 0 5.38199C0 11.114 9.794 14.861 11 18C12.206 14.86 22 11.114 22 5.38199C22 2.29099 19.471 0 16.749 0Z" fill="#c70000" stroke="#c70000" data-spm-anchor-id="a2g2w.detail.0.i3.263872f6fDcHOp">-->

<!--                              </path>-->
<!--                            </svg>-->

                          </button>
                        </div>
                      </div>
                    </div>
                  {% endfor %}
              </div>
            </div>
          </div>
          <nav class="numeration_container u-clearfix u-sheet u-valign-top-lg u-valign-top-md">
                          <ul class="numeration_list">
                            {% for page in products.paginator.page_range %}
                              <li class="numeration_list_item">
                                <a class="numeration_list_item_link" href="{% url 'products:page' page %}"> {{ page }} </a>
                              </li>
                            {% endfor %}
                          </ul>
          </nav>
          {% if user.is_authenticated %}
            <div class="float-block-container">
                  <div class="float-block">
                    <a href="{% url 'users:profile' %}" class="busket_icon">
                      <i id="float_basket" class="fa badge fa-lg" value="{{baskets.0.total_quantity}}">&#xf290;</i>

                    </a>

                  </div>
            </div>
          {% endif %}
    </section>
</div>

{% endblock %}


</html>