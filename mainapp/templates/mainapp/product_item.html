{% extends 'mainapp/base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="/static/css/product_item.css" media="screen">
<link rel="stylesheet" href="/static/css/page.css" media="screen">
{% endblock %}

{% block content %}
<div class="products">
    <section class="u-align-center u-clearfix u-section-1" id="sec-981b">
        <div class="u-clearfix u-sheet u-sheet-1">
            <div class="u-container-style u-expanded-width u-product u-shape-rectangle u-product-1"
                 data-products-datasource="site" data-product-id="6">
                <div class="u-container-layout u-container-layout-1 u-product-container">
                    <div class="u-carousel u-expanded-width-md u-expanded-width-sm u-expanded-width-xs u-gallery u-layout-thumbnails u-lightbox u-no-transition u-product-control u-show-text-none u-thumbnails-position-bottom u-gallery-1"
                         data-interval="5000" data-u-ride="carousel" id="carousel-2a0d">
                        <div class="u-carousel-inner u-gallery-inner" role="listbox">
                            {% for image in images %}
                            {% if first_im == image or im_len == 1 %}
                            <div class="u-carousel-item u-gallery-item u-active">
                                <div class="u-back-slide">
                                    <img class="u-back-image u-expanded u-image-contain" src={{image.image}}>
                                </div>
                            </div>
                            {% else %}
                            <div class="u-carousel-item u-gallery-item">
                                <div class="u-back-slide">
                                    <img class="u-back-image u-expanded u-image-contain" src={{image.image}}>
                                </div>
                            </div>
                            {% endif %}
                            {% endfor %}
                        </div>
                        <a class="u-carousel-control u-carousel-control-prev u-icon-circle u-opacity u-opacity-70 u-text-grey-60 u-text-hover-grey-75 u-carousel-control-1"
                           href="#carousel-2a0d" role="button" data-u-slide="prev">
                  <span aria-hidden="true">
                    <svg viewBox="0 0 477.175 477.175">
                        <path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225
          c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"></path></svg>
                  </span>
                        </a>
                        <a class="u-carousel-control u-carousel-control-next u-icon-circle u-opacity u-opacity-70 u-text-grey-60 u-text-hover-grey-75 u-carousel-control-2"
                           href="#carousel-2a0d" role="button" data-u-slide="next">
                  <span aria-hidden="true">
                    <svg viewBox="0 0 477.175 477.175"><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5
          c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"></path></svg>
                  </span>
                        </a>
                        <ol class="u-carousel-thumbnails u-spacing-20 u-carousel-thumbnails-1">
                            {% for image in images %}
                            <li class="u-carousel-thumbnail u-carousel-thumbnail-1 u-active">
                                <img class="u-carousel-thumbnail-image u-image" src={{image.image}}>
                            </li>
                            {% endfor %}
                        </ol>
                    </div>
                    <div class="u-product-description-container">
                        <h2 class="u-product-control u-text u-text-1">{{ product.name }}</h2>
                        <div class="u-product-control u-product-price u-product-price-1">
                            <div class="u-price-wrapper u-spacing-10">
                                <div class="u-hide-price u-old-price"
                                     style="text-decoration: line-through !important;"></div>
                                <div class="u-price-new u-price u-text-palette-2-base"
                                     style="font-size: 1.5rem; font-weight: 700;">{{ product.price }}
                                </div>
                            </div>
                        </div>
                        <div class="u-product-control u-product-desc u-text u-text-2">{{ product.description}}</div>
                        <div class="buttons-container">

                            {% if product.id in product_in_basket %}
                            <a name="{{product.id}}" id="remove"
                               class="u-align-center-xl u-border-none u-btn u-btn-round u-button-style u-hover-palette-2-dark-2 u-palette-2-dark-1 u-radius-50 u-btn-2">
                                УДАЛИТЬ ИЗ КОРЗИНЫ</a>
                            {% else %}
                            <a name="{{product.id}}" id="add"
                               class="u-align-center-xl u-border-none u-btn u-btn-round u-button-style u-hover-palette-2-dark-2 u-palette-2-dark-1 u-radius-50 u-btn-2">
                                ДОБАВИТЬ В КОРЗИНУ</a>
                            {% endif %}

                            <button class="button_liked_product" type="button">
                                <svg width="25" height="20" viewBox="0 -1 22 20" fill="none">
                                    {% if product.id in product_liked %}
                                    <path id="{{product.id}}" type="like" stroke="#c70000"
                                          d="M16.749 0C13.875 0 12.676 2.75 11 2.75C9.324 2.75 8.12498 0 5.25098 0C2.52898 0 0 2.29099 0 5.38199C0 11.114 9.794 14.861 11 18C12.206 14.86 22 11.114 22 5.38199C22 2.29099 19.471 0 16.749 0Z"
                                          fill="#c70000" data-spm-anchor-id="a2g2w.detail.0.i3.263872f6fDcHOp">
                                    </path>
                                    {% else %}
                                    <path id="{{product.id}}" type="like" stroke="#c70000"
                                          d="M16.749 0C13.875 0 12.676 2.75 11 2.75C9.324 2.75 8.12498 0 5.25098 0C2.52898 0 0 2.29099 0 5.38199C0 11.114 9.794 14.861 11 18C12.206 14.86 22 11.114 22 5.38199C22 2.29099 19.471 0 16.749 0Z"
                                          fill="#fff" data-spm-anchor-id="a2g2w.detail.0.i3.263872f6fDcHOp">
                                    </path>
                                    {% endif %}
                                </svg>
                            </button>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </section>
</div>
{% endblock %}
